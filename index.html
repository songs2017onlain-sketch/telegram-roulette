<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Telegram Roulette WebApp</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 50px;
    background: linear-gradient(135deg, #f0f0f0, #d0e0ff);
  }
  h1 { color: #333; margin-bottom: 30px; }
  #wheel-container {
    position: relative;
    margin: 0 auto;
    width: 250px;
    height: 250px;
  }
  #wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 10px solid #333;
    background: conic-gradient(
      #ff4d4d 0 20%, 
      #4dff4d 20% 40%, 
      #4d4dff 40% 60%, 
      #ffdd4d 60% 80%, 
      #ff4dd2 80% 100%
    );
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 48px;
    transition: transform 4s cubic-bezier(0.33, 1, 0.68, 1);
  }
  #pointer {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 30px;
  }
  #roll { padding: 15px 30px; font-size: 20px; margin-top: 30px; cursor: pointer; }
  #result { margin-top: 20px; font-size: 24px; font-weight: bold; }
</style>
</head>
<body>

<h1>üé∞ –†—É–ª–µ—Ç–∫–∞ Telegram</h1>
<div id="wheel-container">
  <div id="pointer">‚ñº</div>
  <div id="wheel">üé≤</div>
</div>
<button id="roll">–ö—Ä—É—Ç–∏—Ç—å</button>
<p id="result">–ù–∞–∂–º–∏ ¬´–ö—Ä—É—Ç–∏—Ç—å¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!</p>

<script>
const wheel = document.getElementById("wheel");
const button = document.getElementById("roll");
const result = document.getElementById("result");
const tg = window.Telegram?.WebApp;
tg?.ready();

button.addEventListener("click", () => {
    button.disabled = true;
    const rotations = Math.floor(Math.random() * 3600) + 1800;
    wheel.style.transform = `rotate(${rotations}deg)`;
    setTimeout(() => {
        const number = Math.floor(Math.random() * 100) + 1;
        result.innerText = `–¢—ã –≤—ã–±—Ä–æ—Å–∏–ª: ${number}`;
        if(number === 100) result.innerText += " üéâ –î–∂–µ–∫–ø–æ—Ç!";
        if(tg) tg.sendData(JSON.stringify({score: number}));
        button.disabled = false;
    }, 4000);
});
</script>

</body>
</html>
